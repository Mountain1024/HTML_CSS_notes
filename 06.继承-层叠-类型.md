

# 继承-层叠-类型

## CSS 属性的继承

**CSS 的某些属性具有继承性 (`Inherited`)** ： 

- 如果一个属性具备继承性，那么在该元素上设置后，其后代元素都可以继承这个属性。
- 如果后代元素自己设置了该属性，则优先使用后代元素自己的属性（即使继承的属性权重更高）。
- **常见可继承属性** ：通常与字体、文本相关的属性（如 `font-family`, `color`, `text-align` 等）都具有继承性。

**强制继承** ：通过 `inherit` 关键字，可以强制继承父元素的属性值，即使该属性本身不具有继承性。   

- 使用场景较少，但在某些特定情况下（如需要覆盖默认样式时）非常有用。

## CSS 属性的层叠

层叠 ：对于同一个元素，同一个属性可以通过不同的选择器进行多次设置。最终只有一个样式会生效。

- 判断规则 ：
  1. **优先级（权重）** ：根据选择器的权重来决定哪个样式生效。
  2. **先后顺序** ：如果权重相同，则后面定义的样式会覆盖前面的样式。

### 选择器的权重

- CSS 权重由选择器类型决定。以下是常见选择器的权重等级： 

  | 选择器类型                                                   | 权重  |
  | ------------------------------------------------------------ | ----- |
  | `!important`                                                 | 10000 |
  | 内联样式（`style` 属性）                                     | 1000  |
  | ID 选择器（`#id`）                                           | 100   |
  | 类选择器、属性选择器、伪类（`.class`、`[type="text"]`、`:hover`） | 10    |
  | 元素选择器、伪元素（`div`、`h1`、`::before`）                | 1     |
  | 通配符（`*`）                                                | 0     |

  - 权重计算方式：从左到右逐级累加。例如，一个规则 `#id .class div` 的权重是 `100 + 10 + 1 = 111`。 


| 选择器                                    | 千位 | 百位 | 十位 | 个位 | 优先级 |
| ----------------------------------------- | ---- | ---- | ---- | ---- | ------ |
| `h1`                                      | 0    | 0    | 0    | 1    | 0001   |
| `h1 + p::first-letter`                    | 0    | 0    | 0    | 3    | 0003   |
| `li > a[href*="en-US"] > .inline-warning` | 0    | 0    | 2    | 2    | 0022   |
| `#identifier`                             | 0    | 1    | 0    | 0    | 0100   |
| 内联样式                                  | 1    | 0    | 0    | 0    | 1000   |

> **注意** ：`!important` 的优先级最高，但应尽量避免滥用，因为它会破坏正常的层叠规则，增加调试难度。 

## HTML 元素的类型

为了区分哪些元素需要独占一行，哪些元素不需要独占一行，HTML 将元素分为以下几种类型（本质是通过 CSS 样式控制的）： 

- **块级元素（Block-level）** ： 
  - **特征** ：独占一行，可以设置宽高，默认宽度为父容器的 100%。
  - **常见标签** ：`<div>`、`<p>`、`<h1>-<h6>`、`<ul>`、`<ol>`。
- **行内元素（Inline-level）** ： 
  - **特征** ：多个元素可以在同一行显示，不能直接设置宽高，宽高由内容决定。
  - **常见标签** ：`<span>`、`<a>`、`<strong>`。
- **行内替换元素（Inline-replaced）** ： 
  - **特征** ：既能在行内显示，又能设置宽高。
  - **常见标签** ：`<img>`、`<input>`、`<video>`。

> **行内替换元素** ：这些元素的内容不受 CSS 控制，而是由外部资源决定（如图片、视频等）。它们可以设置宽高，并且有内在尺寸（如图片的原始宽高）。 

## 通过 CSS 修改元素类型

- 事实上元素没有本质的区别:

  - div 是块级元素, span 是行内级元素;


  - div 之所以是块级元素仅仅是因为浏览器默认设置了 display 属性而已;


![image-20231213140435861](./assets/image-20231213140435861.png)

可以通过 display 来改变元素的特性

## CSS 属性 - display

`display` 属性用于定义元素的显示方式，通过它可以改变元素在页面中的布局行为。常见的值及其作用如下：

- `block`：将元素显示为块级元素。
- `inline`：将元素显示为行内元素。
- `inline-block`：将元素同时具备行内和块级元素的特性（对外表现为行内元素，对内表现为块级元素）。
- `none`：隐藏元素，完全从文档流中移除。

> 行元素和块元素的区别:
>
> - **块元素**: 独占一行, 可以设置宽高, 高由内容决定
>
> - **行元素**: 和其它行元素排列在一行, 不可以设置宽高, 宽高都由内容决定

`width` 和 `height` 改变的是 `content` 的宽高, 所以即使改变 **块元素** 的 `width` 和 `height`, **块元素也独占一行**

### display值的特性 

- **block 元素** ： 
  - 独占父元素的一行。
  - 可以随意设置宽高，默认高度由内容决定。
  - 默认宽度为父容器的 100%。
- **inline-block 元素** ： 
  - 跟其他行内级元素在同一行显示。
  - 可以随意设置宽高。
  - 对外表现为行内元素，对内表现为块级元素。
- **inline 元素** ： 
  - 跟其他行内级元素在同一行显示。
  - 不可以随意设置宽高，宽高由内容决定。

> ### 行内替换元素 
>
> 某些特殊的 HTML 元素既是行内元素，又是**行内替换元素** ，如 `<img>`、`<input>`、`<video>` 等。它们具有以下特性： 
>
> 1. **行内显示** ：与其他行内元素在同一行显示。
> 2. **可设置宽高** ：可以通过 `width` 和 `height` 属性调整尺寸。
> 3. **内在尺寸** ：这些元素通常有默认的固有尺寸（如图片的原始宽高）。如果不指定宽高，它们会按照其内在尺寸显示。
>
> > **什么是行内替换元素？**  
> >
> > 行内替换元素的内容不受当前文档样式的影响，而是由外部资源决定（如图片、视频等）。CSS 只能影响这些元素的位置或外观（如 `object-fit` 和 `object-position`），但无法改变其内容本身。
> >
> > **典型行内替换元素** ： 
> >
> > - `<img>`：图片
> > - `<input>`：表单输入框
> > - `<iframe>`：嵌入式框架
> > - `<video>`、`<audio>`：多媒体元素
> > - `<canvas>`、`<embed>`、`<object>`：其他嵌入式内容

## 编写 HTML 时的注意事项

- **块级元素**  和 `inline-block` 元素： 
  - 一般情况下，可以包含其他任何元素（包括块级元素、行内元素、`inline-block` 元素）。
  - **特殊情况** ：`<p>` 元素不能包含其他块级元素（如 `<div>`），否则会出现布局问题。
- **行内元素** （如 `<a>`、`<span>`、`<strong>` 等）： 
  - 只能包含行内级元素，不能包含块级元素。

## 隐藏元素的方法 

1. **`display: none`** ： 
   - 元素完全从文档流中移除，不占据任何空间，相当于不存在。
2. **`visibility: hidden`** ： 
   - 元素不可见，但仍占据其应有的空间。
   - 默认值为 `visible`，表示元素可见。
3. **透明度设置** ： 
   - **`rgba`** ：通过设置颜色的透明度（`a` 值为 0~1），只影响颜色或背景色，不影响子元素。
   - **`opacity`** ：设置整个元素的透明度，会影响所有子元素。

> **区别** ： 
>
> - `opacity` 设置后会影响所有子元素的透明度，而 `rgba` 只影响颜色或背景色，子元素不会继承透明效果。
> - `rgba` 可以用于 `background-color`、`color`、`border-color`、`text-shadow`、`box-shadow` 等属性。

## 设置透明度

1. `rgba` 设置透明度, 将 `a` 的值设置为 0
     - 可选值: 0~1, 0 透明, 1 是不透明
     - 十六进制写法: `#ff000000` 透明 `,#ff0000ff` 不透明
     - rgba 的 a 设置的是 alpha 值, 可以设置 **透明度**,
     - **不影响子元素**
2. `opacity` 设置透明度, 设置为 0
     - 设置整个元素的透明度, 会 **影响所有的子元素**;

> `rgba` 和 `opacity` 设置透明度时候的区别
>
> - `opacity` 设置后会对他子级的 **所有内容** 设置透明度 `rgba` 只会对颜色或背景色造成影响，并且子级 **不会继承透明效果**
> - rgba 可以设置在 `background-color`，`color`，`border-color`，`text-shadow`，`box-shadow`
> - 例如给一个盒子设置 `opacity` 为 0.3，如果那个盒子下面有输入字的话，那么 **字也会变透明**，rgba 则不会

## 元素溢出控制 

`overflow`属性 用于**控制内容溢出时的行为**

- `visible`: 溢出的内容照样可见
- `hidden`: 溢出的内容 **直接裁剪**
- `scroll`: 溢出的内容被裁剪，但可以通过滚动条查看（无论是否溢出，都会显示滚动条）。
  - 会**一直显示滚动条区域(横向和纵向）,** 滚动条区域占用的空间属于 `width`、`height`

- `auto`: **根据内容是否溢出自动决定是否显示滚动条。**

![image-20231220215613640](./assets/image-20231220215613640.png)

## CSS 样式为什么不生效 

当编写的 CSS 样式不生效时，可能是以下几种原因： 

1. **选择器优先级太低** ：检查是否有更高优先级的选择器覆盖了当前样式。
2. **选择器未选中目标元素** ：确保选择器正确无误（如类名、ID 是否拼写错误）。
3. CSS 属性使用不当 ：
   - 某些元素不支持特定属性（如 `span` 默认不支持 `width` 和 `height`）。
   - 浏览器不支持某些 CSS 属性（如旧版本浏览器不支持某些 CSS3 特性）。
   - 被同类型的 CSS 属性覆盖（如 `font` 属性会覆盖 `font-size`）。

> **调试建议** ：充分利用浏览器的开发者工具（如 Chrome DevTools）进行样式调试和查错。 
